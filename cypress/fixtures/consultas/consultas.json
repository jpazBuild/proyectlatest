{
    "consultasBlossomUserEmail": {
        "getBlossomUserEmail": "SELECT * FROM \"BlossomUserEmail\" bue INNER JOIN \"BlossomUser\" bu ON bue.\"idBlossomUser\" = bu.\"id\" WHERE bu.\"username\"=$1",
        "insertVerifiedEmail": "INSERT INTO public.\"BlossomUserEmail\" (\"idBlossomUser\",email,\"primary\",verifed,\"dateVerifed\",\"createdAt\",\"updatedAt\") VALUES (15,'jcardenas+Cypress@hellobuild.co',true,true,'2022-08-04 13:39:22.747','2022-08-02 19:41:32.346','2022-08-04 13:39:22.747')",
        "updateVerifyEmail": "update \"BlossomUserEmail\" SET \"primary\" = false  WHERE \"idBlossomUser\" = ( SELECT bu.\"id\"  FROM \"BlossomUser\" bu WHERE  bu.\"username\" = 'userToUse')",
        "updateVerifyEmail2": "update \"BlossomUserEmail\" SET \"primary\" = true, verifed = true  where email = 'emailToUse'",
        "deleteEmailByEmail": "delete from \"BlossomUserEmail\" WHERE \"email\" = 'emailToUse'",
        "deleteEmailByUser":"delete  from \"BlossomUserEmail\" WHERE \"idBlossomUser\" in (select bu.id from \"BlossomUser\" bu where bu.username = 'userToUse')"

    },
    "consultasBlossomUser": {
        "getBlossomUser": "SELECT * FROM \"BlossomUserEmail\" bue INNER JOIN \"BlossomUser\" bu ON bue.\"idBlossomUser\" = bu.\"id\" WHERE bu.\"username\"='${userVerify}'",
        "updateFailedAttemps": "UPDATE \"BlossomUser\" SET \"failedAttempts\" = 0, \"failedAttemptsAccount\" = 0 where username = 'jcypress'",
        "updatePassword": "UPDATE public.\"BlossomUser\" SET \"password\"=$1 WHERE username = $2;",
        "updateUserBlockedByAccount": "UPDATE \"BlossomUser\" blu  SET status  = 'BLOCKED_BY_ACCOUNT' ,\"failedAttempts\" = 0 ,\"failedAttemptsAccount\" = 3 WHERE username  = 'userToUse'",
        "updateUserBlockedByPassword": "UPDATE \"BlossomUser\" blu  SET status  = 'BLOCKED_BY_PASSWORD' ,\"failedAttempts\" = 3 ,\"failedAttemptsAccount\" = 0 WHERE username  = 'userToUse'",
        "updateUserActive": "UPDATE \"BlossomUser\" blu  SET status  = 'ACTIVE' ,\"failedAttempts\" = 0 ,\"failedAttemptsAccount\" = 0 WHERE username  = 'userToUse'",
        "updateUserName": "UPDATE \"BlossomUser\" SET \"username\" = 'userToUse' WHERE username = 'userToUse2'",
        "getIdBlossomUser": "SELECT bu.id  FROM \"BlossomUser\" bu  WHERE   bu.username = 'userToUse'",
        "deleteBlossomUser":"DELETE FROM \"BlossomUser\" bu WHERE \"username\" = 'userToUse'",
        "getBlossomUserStatus":"select bus.ID from \"BlossomUserStatus\" bus where name = 'status'",
        "updateUserStatus":"update \"BlossomUserStatusHistory\" set \"idBlossomUserStatus\" = buStatus.ID from (select ID from \"BlossomUserStatus\" bus where name = $1) as buStatus where \"idBlossomUser\" in (select bu.id from  \"BlossomUser\" bu where username IN ($2)) and \"isCurrent\" = true",
        "deleteBlossomUserHistory":"delete from \"BlossomUserStatusHistory\" bush where bush.\"isCurrent\" = false and \"idBlossomUser\" in (select bu.id from \"BlossomUser\" bu where username = $1)",
        "updateBlossomUser":"UPDATE \"BlossomUser\" blu  SET \"failedAttempts\" = $1,\"status\" = $2 WHERE username  = $3"
        
    },
    "consultaRememberDevices": {
        "deleteRememberDevices": "DELETE FROM \"RememberDevices\" WHERE \"idBlossomUser\" = idSelected",
        "selectRememberDevices": "SELECT * FROM \"RememberDevices\" reme INNER JOIN \"BlossomUser\" bl ON reme.\"idBlossomUser\"=bl.\"id\"  WHERE bl.\"username\"='usernameSelected' ORDER BY reme.\"createdAt\" DESC"
    },
    "passwordRecoveries":
    {
        "selectpwdRecoveries":"SELECT passr.\"idBlossomUser\", passr.\"hash\" FROM \"PasswordRecoveries\" passr INNER JOIN \"BlossomUserEmail\" BUE ON passr.\"idBlossomUser\" = BUE.\"idBlossomUser\" INNER JOIN \"BlossomUser\" BU ON BU.\"id\" = BUE.\"idBlossomUser\" WHERE BU.\"username\"=$1 AND passr.\"status\" ='ACTIVE' ORDER BY passr.\"createdAt\" DESC"
    },
    "consultaVerificationCode":
    {
        "SelectVerificationCodeEmail":"select code from \"VerificationCodeEmail\" vcode inner join \"BlossomUserEmail\" BUE on vcode.\"idBlossomUserEmail\" = BUE.\"id\" inner join \"BlossomUser\" BU on  BU.\"id\" = BUE.\"idBlossomUser\" where BU.\"username\" = 'userToUse' and vcode.\"status\" = 'ACTIVE' order by vcode.\"createdAt\" desc",
        "SelectVerificationCodePhone":"select vcp.\"code\" FROM \"VerificationCodePhone\" vcp INNER JOIN \"BlossomUserPhone\" bup on bup.id = vcp.\"idBlossomUserPhone\" INNER JOIN \"BlossomUser\" bu ON  bu.id = bup.\"idBlossomUser\" where bu.\"username\" LIKE 'userToUse' AND vcp.\"status\" LIKE 'ACTIVE' ORDER BY vcp.\"createdAt\" DESC  LIMIT 1",
        "SelectVerificationCodeEmailByEmail":"SELECT vcode.code FROM \"VerificationCodeEmail\" vcode INNER JOIN \"BlossomUserEmail\" BUE ON vcode.\"idBlossomUserEmail\"  = BUE.id INNER JOIN \"BlossomUser\" BU ON BU.id = BUE.\"idBlossomUser\" WHERE BUE.email = 'emailToUse' AND vcode.status ='ACTIVE' ORDER BY vcode.\"createdAt\" DESC"
    },
    "userAccount":
    {
        "deleteAccount":"delete from \"OLBUserAccount\" oa where oa.\"idOLBAccountNumber\" in (select on2.id from \"OLBAccountNumber\" on2 where on2.\"accountNumber\" = 'accountToUse')"
    },
    "BlossomUserPhone":{
        "deletePhone":"delete from \"BlossomUserPhone\" bup where bup.\"idBlossomUser\" in (SELECT bu.\"id\"  FROM \"BlossomUser\" bu WHERE bu.\"username\" = 'userToUse' )",
        "insertPhone":"INSERT INTO public.\"BlossomUserPhone\" (\"idBlossomUser\",phone,code,\"primary\",verifed,\"dateVerifed\",\"createdAt\",\"updatedAt\") VALUES ((select bua.id from \"BlossomUser\" bua where bua.username = 'userToUse' ),'numberToUse','+57',true,true,'2022-09-19 16:34:13.000','2022-09-13 18:19:11.369','2022-09-19 16:34:13.980')"
    },
    "blossomUserProfile":

    {
        "selectFullName":"select bup.\"firstName\",bup.\"lastName\" FROM \"BlossomUserProfile\" bup INNER JOIN \"BlossomUser\" bu ON bu.\"id\" = bup.\"idBlossomUser\" WHERE bu.\"username\" = 'userToUse'",
        "updateNames":"UPDATE \"BlossomUserProfile\" SET \"firstName\" = 'nameToUse', \"lastName\" = 'lNameToUse' WHERE \"idBlossomUser\" in (select bb.\"id\" from \"BlossomUser\" bb where bb.username  = 'userToUse')"
    },
    "blossomUserAddress":{
        "updateAdress": "UPDATE public.\"BlossomUserAddress\" ba SET city='cityToUse',address2='address2ToUse',address1='address1ToUse',state='stateToUse',zip='zipToUse', \"mailingAddress\" = '{ \"zip\": \"\", \"city\": \"\", \"state\": \"\", \"address1\": \"\", \"address2\": \"\"}' WHERE ba.\"idBlossomUser\" = (select id from \"BlossomUser\" where username = 'jcypress');"
    },

    "accountNumber":{
        "validateAccountCreated": "select on2.\"accountNumber\" from \"OLBAccountNumber\" on2 inner join \"OLBUserAccount\" oa on on2.id = oa.\"idOLBAccountNumber\" inner join \"OLBUser\" oa2 ON oa.\"idOLBUser\" = oa2.id inner join \"BlossomUser\" bu on bu.id  = oa2.\"idBlossomUser\" where bu.username  = 'userToUse' and  on2.\"createdAt\" < current_timestamp "
    }
}




